!function(e,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var n=r();for(var t in n)("object"==typeof exports?exports:e)[t]=n[t]}}(this,(function(){return function(e){var r={};function n(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,r){if(1&r&&(e=n(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)n.d(t,o,function(r){return e[r]}.bind(null,o));return t},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p="dist/",n(n.s="./src/main.ts")}({"./src/main.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "vid_pause", function() { return vid_pause; });\n/* harmony import */ var _viewObserver__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./viewObserver */ "./src/viewObserver.ts");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar vidPause = /*#__PURE__*/function () {\n  function vidPause() {\n    _classCallCheck(this, vidPause);\n  }\n\n  _createClass(vidPause, [{\n    key: "init",\n    value: function init(_ref) {\n      var _ref$html = _ref.html5,\n          html5 = _ref$html === void 0 ? true : _ref$html,\n          _ref$yt = _ref.yt,\n          yt = _ref$yt === void 0 ? true : _ref$yt,\n          _ref$options = _ref.options,\n          options = _ref$options === void 0 ? {} : _ref$options;\n      this.obsrv = new _viewObserver__WEBPACK_IMPORTED_MODULE_0__["default"](options);\n      html5 ? this.html5() : \'\';\n      yt ? this.yt() : \'\';\n      return Object.assign({}, this);\n    }\n  }, {\n    key: "html5",\n    value: function html5() {\n      var state = {\n        HAVE_NOTHING: 0,\n        HAVE_METADATA: 1,\n        HAVE_CURRENT_DATA: 2,\n        HAVE_FUTURE_DATA: 3,\n        HAVE_ENOUGH_DATA: 4\n      };\n      this.obsrv.observe(Array.from(document.querySelectorAll("video")), function (entry) {\n        var vid = entry.target;\n\n        if (!entry.isIntersecting) {\n          return vid.readyState == state.HAVE_ENOUGH_DATA ? vid.pause() : \'\';\n        }\n\n        if (!!vid.autoplay) {\n          return vid.readyState == state.HAVE_ENOUGH_DATA ? vid.play() : \'\';\n        }\n      });\n    }\n  }, {\n    key: "yt",\n    value: function yt() {\n      var videos = function () {\n        var els = Array.from(document.querySelectorAll("iframe"));\n        return els.filter(function (el) {\n          var _ref2 = [el.src, el.dataset.src],\n              src = _ref2[0],\n              data_src = _ref2[1];\n          return src.concat(data_src).includes("youtube.com/embed");\n        });\n      }();\n\n      this.obsrv.observe(videos, function (entry) {\n        var vid = entry.target.contentWindow;\n\n        if (!entry.isIntersecting) {\n          vid.postMessage(\'{"event":"command","func":"pauseVideo","args":""}\', \'*\');\n        }\n      });\n    }\n  }]);\n\n  return vidPause;\n}();\n\nvar vid_pause = new vidPause();\n\n//# sourceURL=webpack:///./src/main.ts?')},"./src/viewObserver.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return viewObserver; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar viewObserver = /*#__PURE__*/function () {\n  function viewObserver() {\n    var cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, viewObserver);\n\n    this.cfg = cfg;\n  }\n\n  _createClass(viewObserver, [{\n    key: "obInit",\n    value: function obInit(cb) {\n      return new IntersectionObserver(function (entries) {\n        entries.forEach(function (entry) {\n          return cb.call(null, entry);\n        });\n      }, this.cfg);\n    }\n  }, {\n    key: "observe",\n    value: function observe($els, cb) {\n      var observer = this.obInit(cb);\n      $els.forEach(function (vid) {\n        return observer.observe(vid);\n      });\n    }\n  }]);\n\n  return viewObserver;\n}();\n\n\n\n//# sourceURL=webpack:///./src/viewObserver.ts?')}})}));